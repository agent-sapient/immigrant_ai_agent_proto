syntax = "proto3";

package tool;
option go_package = "github.com/agent-sapient/immigrant_ai_agent_go/tool;tool";

import "google/api/annotations.proto";
import "google/api/field_behavior.proto";
import "openapi/v3/annotations.proto";


option (openapi.v3.document) = {
  info: {
    title: "BrowserUseAIAgent";
    version: "1.0";
    description: "BrowserUseAIAgent";
  }
  servers: [
    {
      url: "http://101.6.161.45:18000";
      description: "server";
    }
  ];
  tags: []
  components: {
    security_schemes: {
      additional_properties: [
        {
          name: "BasicAuth";
          value: {
            security_scheme: {
              type: "http";
              scheme: "basic";
            }
          }
        }
      ]
    }
  }
};


// 模型枚举
enum Model {
  MODEL_UNSPECIFIED = 0;
  GPT_4O = 1;
  GPT_5_1 = 2;
  CLAUDE_SONNET_4_5 = 3;
  GPT_4O_MINI = 4;
  GEMINI_2_5_FLASH = 5;
  GEMINI_2_5_PRO = 6;
  GROK_4_1_FAST = 7;
  GROK_4_1_FAST_REASONING = 8;
  DOUBAO_SEED_1_6_VISION = 9;
}

message UseAIAgentRequest {
  string prompt = 1 [json_name = "prompt", (google.api.field_behavior) = REQUIRED];
}

message UseAIAgentResponse {
  string result = 1 [json_name = "result"];
  repeated string output_file_urls = 2 [json_name = "outputFileUrls"];
}

// 批量请求消息
message BatchUseAIAgentRequest {
  string prompt = 1 [json_name = "prompt", (google.api.field_behavior) = REQUIRED];
  repeated Model models = 2 [json_name = "models", (google.api.field_behavior) = REQUIRED];
}

// 单个模型的结果
message ModelResult {
  Model model = 1 [json_name = "model"];
  string result = 2 [json_name = "result"];
  repeated string output_file_urls = 3 [json_name = "outputFileUrls"];
}

// 批量响应消息
message BatchUseAIAgentResponse {
  repeated ModelResult results = 1 [json_name = "results"];
}

service BrowserUseAIAgent {
  rpc UseAIAgent(UseAIAgentRequest) returns (UseAIAgentResponse) {
    option (google.api.http) = {
      post: "/api/use_ai_agent"
      body: "*"
    };
  }

  rpc BatchUseAIAgent(BatchUseAIAgentRequest) returns (BatchUseAIAgentResponse) {
    option (google.api.http) = {
      post: "/api/batch_use_ai_agent"
      body: "*"
    };
  }
}
